{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":56,"index":71}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"./defaults.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":72},"end":{"line":4,"column":70,"index":142}}],"key":"XCWKIxVkGmzpUvwhJx9c42EufEI=","exportNames":["*"],"imports":1}},{"name":"./get-image-library.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":143},"end":{"line":5,"column":65,"index":208}}],"key":"NQSgvlX22fW2WmZvIDQIoBdZcEE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"getImageSourceSync\", {\n    enumerable: true,\n    get: function () {\n      return getImageSourceSync;\n    }\n  });\n  Object.defineProperty(exports, \"getImageSource\", {\n    enumerable: true,\n    get: function () {\n      return getImageSource;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _defaultsJs = require(_dependencyMap[2], \"./defaults.js\");\n  var _getImageLibraryJs = require(_dependencyMap[3], \"./get-image-library.js\");\n  var getImageSourceSync = function (imageSourceCache, fontReference, glyph) {\n    var size = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _defaultsJs.DEFAULT_ICON_SIZE;\n    var color = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _defaultsJs.DEFAULT_ICON_COLOR;\n    var NativeIconAPI = (0, _getImageLibraryJs.ensureGetImageAvailable)();\n    var processedColor = (0, _reactNative.processColor)(color);\n    var cacheKey = `${glyph}:${size}:${String(processedColor)}`;\n    var maybeCachedValue = imageSourceCache.get(cacheKey);\n    if (maybeCachedValue !== undefined) {\n      // FIXME: Should this check if it's an error and throw it again?\n      return maybeCachedValue;\n    }\n    try {\n      var imagePath = NativeIconAPI.getImageForFontSync(fontReference, glyph, size, processedColor // FIXME what if a non existent colour was passed in?\n      );\n      var value = {\n        uri: imagePath,\n        scale: _reactNative.PixelRatio.get()\n      };\n      imageSourceCache.setValue(cacheKey, value);\n      return value;\n    } catch (error) {\n      imageSourceCache.setError(cacheKey, error);\n      throw error;\n    }\n  };\n  var getImageSource = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (imageSourceCache, fontReference, glyph) {\n      var size = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _defaultsJs.DEFAULT_ICON_SIZE;\n      var color = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _defaultsJs.DEFAULT_ICON_COLOR;\n      var NativeIconAPI = (0, _getImageLibraryJs.ensureGetImageAvailable)();\n      var processedColor = (0, _reactNative.processColor)(color);\n      var cacheKey = `${glyph}:${size}:${String(processedColor)}`;\n      var maybeCachedValue = imageSourceCache.get(cacheKey);\n      if (maybeCachedValue !== undefined) {\n        // FIXME: Should this check if it's an error and throw it again?\n        return maybeCachedValue;\n      }\n      try {\n        var imagePath = yield NativeIconAPI.getImageForFont(fontReference, glyph, size, processedColor // FIXME what if a non existent colour was passed in?\n        );\n        var value = {\n          uri: imagePath,\n          scale: _reactNative.PixelRatio.get()\n        };\n        imageSourceCache.setValue(cacheKey, value);\n        return value;\n      } catch (error) {\n        imageSourceCache.setError(cacheKey, error);\n        throw error;\n      }\n    });\n    return function getImageSource(_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n});","lineCount":84,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,6,0,"Object"],[12,8,6,0],[12,9,6,0,"defineProperty"],[12,23,6,0],[12,24,6,0,"exports"],[12,31,6,0],[13,4,6,0,"enumerable"],[13,14,6,0],[14,4,6,0,"get"],[14,7,6,0],[14,18,6,0,"get"],[14,19,6,0],[15,6,6,0],[15,13,6,0,"getImageSourceSync"],[15,31,6,0],[16,4,6,0],[17,2,6,0],[18,2,29,0,"Object"],[18,8,29,0],[18,9,29,0,"defineProperty"],[18,23,29,0],[18,24,29,0,"exports"],[18,31,29,0],[19,4,29,0,"enumerable"],[19,14,29,0],[20,4,29,0,"get"],[20,7,29,0],[20,18,29,0,"get"],[20,19,29,0],[21,6,29,0],[21,13,29,0,"getImageSource"],[21,27,29,0],[22,4,29,0],[23,2,29,0],[24,2,51,2],[24,6,51,2,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,51,2],[24,45,51,2,"require"],[24,52,51,2],[24,53,51,2,"_dependencyMap"],[24,67,51,2],[25,2,51,2],[25,6,51,2,"_asyncToGenerator"],[25,23,51,2],[25,26,51,2,"_interopDefault"],[25,41,51,2],[25,42,51,2,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,51,2],[26,2,3,0],[26,6,3,0,"_reactNative"],[26,18,3,0],[26,21,3,0,"require"],[26,28,3,0],[26,29,3,0,"_dependencyMap"],[26,43,3,0],[27,2,4,0],[27,6,4,0,"_defaultsJs"],[27,17,4,0],[27,20,4,0,"require"],[27,27,4,0],[27,28,4,0,"_dependencyMap"],[27,42,4,0],[28,2,5,0],[28,6,5,0,"_getImageLibraryJs"],[28,24,5,0],[28,27,5,0,"require"],[28,34,5,0],[28,35,5,0,"_dependencyMap"],[28,49,5,0],[29,2,6,7],[29,6,6,13,"getImageSourceSync"],[29,24,6,31],[29,27,6,34],[29,36,6,34,"getImageSourceSync"],[29,37,6,35,"imageSourceCache"],[29,53,6,51],[29,55,6,53,"fontReference"],[29,68,6,66],[29,70,6,68,"glyph"],[29,75,6,73],[29,77,6,132],[30,4,6,132],[30,8,6,75,"size"],[30,12,6,79],[30,15,6,79,"arguments"],[30,24,6,79],[30,25,6,79,"length"],[30,31,6,79],[30,39,6,79,"arguments"],[30,48,6,79],[30,56,6,79,"undefined"],[30,65,6,79],[30,68,6,79,"arguments"],[30,77,6,79],[30,83,6,82,"DEFAULT_ICON_SIZE"],[30,94,6,99],[30,95,6,99,"DEFAULT_ICON_SIZE"],[30,112,6,99],[31,4,6,99],[31,8,6,101,"color"],[31,13,6,106],[31,16,6,106,"arguments"],[31,25,6,106],[31,26,6,106,"length"],[31,32,6,106],[31,40,6,106,"arguments"],[31,49,6,106],[31,57,6,106,"undefined"],[31,66,6,106],[31,69,6,106,"arguments"],[31,78,6,106],[31,84,6,109,"DEFAULT_ICON_COLOR"],[31,95,6,127],[31,96,6,127,"DEFAULT_ICON_COLOR"],[31,114,6,127],[32,4,7,2],[32,8,7,8,"NativeIconAPI"],[32,21,7,21],[32,24,7,24],[32,28,7,24,"ensureGetImageAvailable"],[32,46,7,47],[32,47,7,47,"ensureGetImageAvailable"],[32,70,7,47],[32,72,7,48],[32,73,7,49],[33,4,8,2],[33,8,8,8,"processedColor"],[33,22,8,22],[33,25,8,25],[33,29,8,25,"processColor"],[33,41,8,37],[33,42,8,37,"processColor"],[33,54,8,37],[33,56,8,38,"color"],[33,61,8,43],[33,62,8,44],[34,4,9,2],[34,8,9,8,"cacheKey"],[34,16,9,16],[34,19,9,19],[34,22,9,22,"glyph"],[34,27,9,27],[34,31,9,31,"size"],[34,35,9,35],[34,39,9,39,"String"],[34,45,9,45],[34,46,9,46,"processedColor"],[34,60,9,60],[34,61,9,61],[34,63,9,63],[35,4,10,2],[35,8,10,8,"maybeCachedValue"],[35,24,10,24],[35,27,10,27,"imageSourceCache"],[35,43,10,43],[35,44,10,44,"get"],[35,47,10,47],[35,48,10,48,"cacheKey"],[35,56,10,56],[35,57,10,57],[36,4,11,2],[36,8,11,6,"maybeCachedValue"],[36,24,11,22],[36,29,11,27,"undefined"],[36,38,11,36],[36,40,11,38],[37,6,12,4],[38,6,13,4],[38,13,13,11,"maybeCachedValue"],[38,29,13,27],[39,4,14,2],[40,4,15,2],[40,8,15,6],[41,6,16,4],[41,10,16,10,"imagePath"],[41,19,16,19],[41,22,16,22,"NativeIconAPI"],[41,35,16,35],[41,36,16,36,"getImageForFontSync"],[41,55,16,55],[41,56,16,56,"fontReference"],[41,69,16,69],[41,71,16,71,"glyph"],[41,76,16,76],[41,78,16,78,"size"],[41,82,16,82],[41,84,16,84,"processedColor"],[41,98,16,98],[41,99,16,99],[42,6,17,4],[42,7,17,5],[43,6,18,4],[43,10,18,10,"value"],[43,15,18,15],[43,18,18,18],[44,8,19,6,"uri"],[44,11,19,9],[44,13,19,11,"imagePath"],[44,22,19,20],[45,8,20,6,"scale"],[45,13,20,11],[45,15,20,13,"PixelRatio"],[45,27,20,23],[45,28,20,23,"PixelRatio"],[45,38,20,23],[45,39,20,24,"get"],[45,42,20,27],[45,43,20,28],[46,6,21,4],[46,7,21,5],[47,6,22,4,"imageSourceCache"],[47,22,22,20],[47,23,22,21,"setValue"],[47,31,22,29],[47,32,22,30,"cacheKey"],[47,40,22,38],[47,42,22,40,"value"],[47,47,22,45],[47,48,22,46],[48,6,23,4],[48,13,23,11,"value"],[48,18,23,16],[49,4,24,2],[49,5,24,3],[49,6,24,4],[49,13,24,11,"error"],[49,18,24,16],[49,20,24,18],[50,6,25,4,"imageSourceCache"],[50,22,25,20],[50,23,25,21,"setError"],[50,31,25,29],[50,32,25,30,"cacheKey"],[50,40,25,38],[50,42,25,40,"error"],[50,47,25,45],[50,48,25,46],[51,6,26,4],[51,12,26,10,"error"],[51,17,26,15],[52,4,27,2],[53,2,28,0],[53,3,28,1],[54,2,29,7],[54,6,29,13,"getImageSource"],[54,20,29,27],[55,4,29,27],[55,8,29,27,"_ref"],[55,12,29,27],[55,19,29,27,"_asyncToGenerator"],[55,36,29,27],[55,37,29,27,"default"],[55,44,29,27],[55,46,29,30],[55,57,29,37,"imageSourceCache"],[55,73,29,53],[55,75,29,55,"fontReference"],[55,88,29,68],[55,90,29,70,"glyph"],[55,95,29,75],[55,97,29,134],[56,6,29,134],[56,10,29,77,"size"],[56,14,29,81],[56,17,29,81,"arguments"],[56,26,29,81],[56,27,29,81,"length"],[56,33,29,81],[56,41,29,81,"arguments"],[56,50,29,81],[56,58,29,81,"undefined"],[56,67,29,81],[56,70,29,81,"arguments"],[56,79,29,81],[56,85,29,84,"DEFAULT_ICON_SIZE"],[56,96,29,101],[56,97,29,101,"DEFAULT_ICON_SIZE"],[56,114,29,101],[57,6,29,101],[57,10,29,103,"color"],[57,15,29,108],[57,18,29,108,"arguments"],[57,27,29,108],[57,28,29,108,"length"],[57,34,29,108],[57,42,29,108,"arguments"],[57,51,29,108],[57,59,29,108,"undefined"],[57,68,29,108],[57,71,29,108,"arguments"],[57,80,29,108],[57,86,29,111,"DEFAULT_ICON_COLOR"],[57,97,29,129],[57,98,29,129,"DEFAULT_ICON_COLOR"],[57,116,29,129],[58,6,30,2],[58,10,30,8,"NativeIconAPI"],[58,23,30,21],[58,26,30,24],[58,30,30,24,"ensureGetImageAvailable"],[58,48,30,47],[58,49,30,47,"ensureGetImageAvailable"],[58,72,30,47],[58,74,30,48],[58,75,30,49],[59,6,31,2],[59,10,31,8,"processedColor"],[59,24,31,22],[59,27,31,25],[59,31,31,25,"processColor"],[59,43,31,37],[59,44,31,37,"processColor"],[59,56,31,37],[59,58,31,38,"color"],[59,63,31,43],[59,64,31,44],[60,6,32,2],[60,10,32,8,"cacheKey"],[60,18,32,16],[60,21,32,19],[60,24,32,22,"glyph"],[60,29,32,27],[60,33,32,31,"size"],[60,37,32,35],[60,41,32,39,"String"],[60,47,32,45],[60,48,32,46,"processedColor"],[60,62,32,60],[60,63,32,61],[60,65,32,63],[61,6,33,2],[61,10,33,8,"maybeCachedValue"],[61,26,33,24],[61,29,33,27,"imageSourceCache"],[61,45,33,43],[61,46,33,44,"get"],[61,49,33,47],[61,50,33,48,"cacheKey"],[61,58,33,56],[61,59,33,57],[62,6,34,2],[62,10,34,6,"maybeCachedValue"],[62,26,34,22],[62,31,34,27,"undefined"],[62,40,34,36],[62,42,34,38],[63,8,35,4],[64,8,36,4],[64,15,36,11,"maybeCachedValue"],[64,31,36,27],[65,6,37,2],[66,6,38,2],[66,10,38,6],[67,8,39,4],[67,12,39,10,"imagePath"],[67,21,39,19],[67,30,39,28,"NativeIconAPI"],[67,43,39,41],[67,44,39,42,"getImageForFont"],[67,59,39,57],[67,60,39,58,"fontReference"],[67,73,39,71],[67,75,39,73,"glyph"],[67,80,39,78],[67,82,39,80,"size"],[67,86,39,84],[67,88,39,86,"processedColor"],[67,102,39,100],[67,103,39,101],[68,8,40,4],[68,9,40,5],[69,8,41,4],[69,12,41,10,"value"],[69,17,41,15],[69,20,41,18],[70,10,42,6,"uri"],[70,13,42,9],[70,15,42,11,"imagePath"],[70,24,42,20],[71,10,43,6,"scale"],[71,15,43,11],[71,17,43,13,"PixelRatio"],[71,29,43,23],[71,30,43,23,"PixelRatio"],[71,40,43,23],[71,41,43,24,"get"],[71,44,43,27],[71,45,43,28],[72,8,44,4],[72,9,44,5],[73,8,45,4,"imageSourceCache"],[73,24,45,20],[73,25,45,21,"setValue"],[73,33,45,29],[73,34,45,30,"cacheKey"],[73,42,45,38],[73,44,45,40,"value"],[73,49,45,45],[73,50,45,46],[74,8,46,4],[74,15,46,11,"value"],[74,20,46,16],[75,6,47,2],[75,7,47,3],[75,8,47,4],[75,15,47,11,"error"],[75,20,47,16],[75,22,47,18],[76,8,48,4,"imageSourceCache"],[76,24,48,20],[76,25,48,21,"setError"],[76,33,48,29],[76,34,48,30,"cacheKey"],[76,42,48,38],[76,44,48,40,"error"],[76,49,48,45],[76,50,48,46],[77,8,49,4],[77,14,49,10,"error"],[77,19,49,15],[78,6,50,2],[79,4,51,0],[79,5,51,1],[80,4,51,1],[80,20,29,13,"getImageSource"],[80,34,29,27,"getImageSource"],[80,35,29,27,"_x"],[80,37,29,27],[80,39,29,27,"_x2"],[80,42,29,27],[80,44,29,27,"_x3"],[80,47,29,27],[81,6,29,27],[81,13,29,27,"_ref"],[81,17,29,27],[81,18,29,27,"apply"],[81,23,29,27],[81,30,29,27,"arguments"],[81,39,29,27],[82,4,29,27],[83,2,29,27],[83,5,51,1],[84,0,51,2],[84,3]],"functionMap":{"names":["<global>","getImageSourceSync","getImageSource"],"mappings":"AAA;kCCK;CDsB;8BEC;CFsB"},"hasCjsExports":false},"type":"js/module"}]}