{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"../supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":39,"index":84}}],"key":"zx/dTdJp0d3TJEOaa003L7FI5PE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _supabase = require(_dependencyMap[1], \"../supabase\");\n  var _s = $RefreshSig$();\n  function useAuth() {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [session, setSession] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      // Get initial session\n      _supabase.supabase.auth.getSession().then(({\n        data: {\n          session\n        }\n      }) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n\n        // Fetch user profile if session exists\n        if (session?.user) {\n          fetchProfile(session.user.id);\n        } else {\n          setLoading(false);\n        }\n      });\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _supabase.supabase.auth.onAuthStateChange(async (_event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        if (session?.user) {\n          await fetchProfile(session.user.id);\n        } else {\n          setProfile(null);\n        }\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n    const fetchProfile = async userId => {\n      try {\n        const {\n          data,\n          error\n        } = await _supabase.supabase.from('users').select('*').eq('id', userId).single();\n        if (error) throw error;\n        setProfile(data);\n      } catch (error) {\n        console.error('Error fetching profile:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const signUp = async (email, password) => {\n      try {\n        const {\n          data,\n          error\n        } = await _supabase.supabase.auth.signUp({\n          email,\n          password\n        });\n        return {\n          data,\n          error\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    };\n    const signIn = async (email, password) => {\n      try {\n        const {\n          data,\n          error\n        } = await _supabase.supabase.auth.signInWithPassword({\n          email,\n          password\n        });\n        return {\n          data,\n          error\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    };\n    const signOut = async () => {\n      try {\n        const {\n          error\n        } = await _supabase.supabase.auth.signOut();\n        setProfile(null);\n        return {\n          error\n        };\n      } catch (error) {\n        return {\n          error\n        };\n      }\n    };\n    const updateProfile = async updates => {\n      try {\n        const {\n          data,\n          error\n        } = await _supabase.supabase.from('users').update(updates).eq('id', user.id).select().single();\n        if (error) throw error;\n        setProfile(data);\n        return {\n          data,\n          error: null\n        };\n      } catch (error) {\n        return {\n          data: null,\n          error\n        };\n      }\n    };\n    return {\n      user,\n      session,\n      profile,\n      loading,\n      signUp,\n      signIn,\n      signOut,\n      updateProfile\n    };\n  }\n  _s(useAuth, \"Tux9+EmC0PbQVHOv4eyMKKJvuj0=\");\n});","lineCount":149,"map":[[6,2,1,0],[6,6,1,0,"_react"],[6,12,1,0],[6,15,1,0,"require"],[6,22,1,0],[6,23,1,0,"_dependencyMap"],[6,37,1,0],[7,2,2,0],[7,6,2,0,"_supabase"],[7,15,2,0],[7,18,2,0,"require"],[7,25,2,0],[7,26,2,0,"_dependencyMap"],[7,40,2,0],[8,2,2,39],[8,6,2,39,"_s"],[8,8,2,39],[8,11,2,39,"$RefreshSig$"],[8,23,2,39],[9,2,4,7],[9,11,4,16,"useAuth"],[9,18,4,23,"useAuth"],[9,19,4,23],[9,21,4,26],[10,4,4,26,"_s"],[10,6,4,26],[11,4,5,2],[11,10,5,8],[11,11,5,9,"user"],[11,15,5,13],[11,17,5,15,"setUser"],[11,24,5,22],[11,25,5,23],[11,28,5,26],[11,32,5,26,"useState"],[11,47,5,34],[11,49,5,35],[11,53,5,39],[11,54,5,40],[12,4,6,2],[12,10,6,8],[12,11,6,9,"session"],[12,18,6,16],[12,20,6,18,"setSession"],[12,30,6,28],[12,31,6,29],[12,34,6,32],[12,38,6,32,"useState"],[12,53,6,40],[12,55,6,41],[12,59,6,45],[12,60,6,46],[13,4,7,2],[13,10,7,8],[13,11,7,9,"loading"],[13,18,7,16],[13,20,7,18,"setLoading"],[13,30,7,28],[13,31,7,29],[13,34,7,32],[13,38,7,32,"useState"],[13,53,7,40],[13,55,7,41],[13,59,7,45],[13,60,7,46],[14,4,8,2],[14,10,8,8],[14,11,8,9,"profile"],[14,18,8,16],[14,20,8,18,"setProfile"],[14,30,8,28],[14,31,8,29],[14,34,8,32],[14,38,8,32,"useState"],[14,53,8,40],[14,55,8,41],[14,59,8,45],[14,60,8,46],[15,4,10,2],[15,8,10,2,"useEffect"],[15,24,10,11],[15,26,10,12],[15,32,10,18],[16,6,11,4],[17,6,12,4,"supabase"],[17,24,12,12],[17,25,12,13,"auth"],[17,29,12,17],[17,30,12,18,"getSession"],[17,40,12,28],[17,41,12,29],[17,42,12,30],[17,43,12,31,"then"],[17,47,12,35],[17,48,12,36],[17,49,12,37],[18,8,12,39,"data"],[18,12,12,43],[18,14,12,45],[19,10,12,47,"session"],[20,8,12,55],[21,6,12,57],[21,7,12,58],[21,12,12,63],[22,8,13,6,"setSession"],[22,18,13,16],[22,19,13,17,"session"],[22,26,13,24],[22,27,13,25],[23,8,14,6,"setUser"],[23,15,14,13],[23,16,14,14,"session"],[23,23,14,21],[23,25,14,23,"user"],[23,29,14,27],[23,33,14,31],[23,37,14,35],[23,38,14,36],[25,8,16,6],[26,8,17,6],[26,12,17,10,"session"],[26,19,17,17],[26,21,17,19,"user"],[26,25,17,23],[26,27,17,25],[27,10,18,8,"fetchProfile"],[27,22,18,20],[27,23,18,21,"session"],[27,30,18,28],[27,31,18,29,"user"],[27,35,18,33],[27,36,18,34,"id"],[27,38,18,36],[27,39,18,37],[28,8,19,6],[28,9,19,7],[28,15,19,13],[29,10,20,8,"setLoading"],[29,20,20,18],[29,21,20,19],[29,26,20,24],[29,27,20,25],[30,8,21,6],[31,6,22,4],[31,7,22,5],[31,8,22,6],[33,6,24,4],[34,6,25,4],[34,12,25,10],[35,8,25,12,"data"],[35,12,25,16],[35,14,25,18],[36,10,25,20,"subscription"],[37,8,25,33],[38,6,25,35],[38,7,25,36],[38,10,25,39,"supabase"],[38,28,25,47],[38,29,25,48,"auth"],[38,33,25,52],[38,34,25,53,"onAuthStateChange"],[38,51,25,70],[38,52,26,6],[38,59,26,13,"_event"],[38,65,26,19],[38,67,26,21,"session"],[38,74,26,28],[38,79,26,33],[39,8,27,8,"setSession"],[39,18,27,18],[39,19,27,19,"session"],[39,26,27,26],[39,27,27,27],[40,8,28,8,"setUser"],[40,15,28,15],[40,16,28,16,"session"],[40,23,28,23],[40,25,28,25,"user"],[40,29,28,29],[40,33,28,33],[40,37,28,37],[40,38,28,38],[41,8,30,8],[41,12,30,12,"session"],[41,19,30,19],[41,21,30,21,"user"],[41,25,30,25],[41,27,30,27],[42,10,31,10],[42,16,31,16,"fetchProfile"],[42,28,31,28],[42,29,31,29,"session"],[42,36,31,36],[42,37,31,37,"user"],[42,41,31,41],[42,42,31,42,"id"],[42,44,31,44],[42,45,31,45],[43,8,32,8],[43,9,32,9],[43,15,32,15],[44,10,33,10,"setProfile"],[44,20,33,20],[44,21,33,21],[44,25,33,25],[44,26,33,26],[45,8,34,8],[46,6,35,6],[46,7,36,4],[46,8,36,5],[47,6,38,4],[47,13,38,11],[47,19,38,17,"subscription"],[47,31,38,29],[47,32,38,30,"unsubscribe"],[47,43,38,41],[47,44,38,42],[47,45,38,43],[48,4,39,2],[48,5,39,3],[48,7,39,5],[48,9,39,7],[48,10,39,8],[49,4,41,2],[49,10,41,8,"fetchProfile"],[49,22,41,20],[49,25,41,23],[49,31,41,30,"userId"],[49,37,41,36],[49,41,41,41],[50,6,42,4],[50,10,42,8],[51,8,43,6],[51,14,43,12],[52,10,43,14,"data"],[52,14,43,18],[53,10,43,20,"error"],[54,8,43,26],[54,9,43,27],[54,12,43,30],[54,18,43,36,"supabase"],[54,36,43,44],[54,37,44,9,"from"],[54,41,44,13],[54,42,44,14],[54,49,44,21],[54,50,44,22],[54,51,45,9,"select"],[54,57,45,15],[54,58,45,16],[54,61,45,19],[54,62,45,20],[54,63,46,9,"eq"],[54,65,46,11],[54,66,46,12],[54,70,46,16],[54,72,46,18,"userId"],[54,78,46,24],[54,79,46,25],[54,80,47,9,"single"],[54,86,47,15],[54,87,47,16],[54,88,47,17],[55,8,49,6],[55,12,49,10,"error"],[55,17,49,15],[55,19,49,17],[55,25,49,23,"error"],[55,30,49,28],[56,8,50,6,"setProfile"],[56,18,50,16],[56,19,50,17,"data"],[56,23,50,21],[56,24,50,22],[57,6,51,4],[57,7,51,5],[57,8,51,6],[57,15,51,13,"error"],[57,20,51,18],[57,22,51,20],[58,8,52,6,"console"],[58,15,52,13],[58,16,52,14,"error"],[58,21,52,19],[58,22,52,20],[58,47,52,45],[58,49,52,47,"error"],[58,54,52,52],[58,55,52,53],[59,6,53,4],[59,7,53,5],[59,16,53,14],[60,8,54,6,"setLoading"],[60,18,54,16],[60,19,54,17],[60,24,54,22],[60,25,54,23],[61,6,55,4],[62,4,56,2],[62,5,56,3],[63,4,58,2],[63,10,58,8,"signUp"],[63,16,58,14],[63,19,58,17],[63,25,58,17,"signUp"],[63,26,58,24,"email"],[63,31,58,29],[63,33,58,31,"password"],[63,41,58,39],[63,46,58,44],[64,6,59,4],[64,10,59,8],[65,8,60,6],[65,14,60,12],[66,10,60,14,"data"],[66,14,60,18],[67,10,60,20,"error"],[68,8,60,26],[68,9,60,27],[68,12,60,30],[68,18,60,36,"supabase"],[68,36,60,44],[68,37,60,45,"auth"],[68,41,60,49],[68,42,60,50,"signUp"],[68,48,60,56],[68,49,60,57],[69,10,61,8,"email"],[69,15,61,13],[70,10,62,8,"password"],[71,8,63,6],[71,9,63,7],[71,10,63,8],[72,8,64,6],[72,15,64,13],[73,10,64,15,"data"],[73,14,64,19],[74,10,64,21,"error"],[75,8,64,27],[75,9,64,28],[76,6,65,4],[76,7,65,5],[76,8,65,6],[76,15,65,13,"error"],[76,20,65,18],[76,22,65,20],[77,8,66,6],[77,15,66,13],[78,10,66,15,"data"],[78,14,66,19],[78,16,66,21],[78,20,66,25],[79,10,66,27,"error"],[80,8,66,33],[80,9,66,34],[81,6,67,4],[82,4,68,2],[82,5,68,3],[83,4,70,2],[83,10,70,8,"signIn"],[83,16,70,14],[83,19,70,17],[83,25,70,17,"signIn"],[83,26,70,24,"email"],[83,31,70,29],[83,33,70,31,"password"],[83,41,70,39],[83,46,70,44],[84,6,71,4],[84,10,71,8],[85,8,72,6],[85,14,72,12],[86,10,72,14,"data"],[86,14,72,18],[87,10,72,20,"error"],[88,8,72,26],[88,9,72,27],[88,12,72,30],[88,18,72,36,"supabase"],[88,36,72,44],[88,37,72,45,"auth"],[88,41,72,49],[88,42,72,50,"signInWithPassword"],[88,60,72,68],[88,61,72,69],[89,10,73,8,"email"],[89,15,73,13],[90,10,74,8,"password"],[91,8,75,6],[91,9,75,7],[91,10,75,8],[92,8,76,6],[92,15,76,13],[93,10,76,15,"data"],[93,14,76,19],[94,10,76,21,"error"],[95,8,76,27],[95,9,76,28],[96,6,77,4],[96,7,77,5],[96,8,77,6],[96,15,77,13,"error"],[96,20,77,18],[96,22,77,20],[97,8,78,6],[97,15,78,13],[98,10,78,15,"data"],[98,14,78,19],[98,16,78,21],[98,20,78,25],[99,10,78,27,"error"],[100,8,78,33],[100,9,78,34],[101,6,79,4],[102,4,80,2],[102,5,80,3],[103,4,82,2],[103,10,82,8,"signOut"],[103,17,82,15],[103,20,82,18],[103,26,82,18,"signOut"],[103,27,82,18],[103,32,82,30],[104,6,83,4],[104,10,83,8],[105,8,84,6],[105,14,84,12],[106,10,84,14,"error"],[107,8,84,20],[107,9,84,21],[107,12,84,24],[107,18,84,30,"supabase"],[107,36,84,38],[107,37,84,39,"auth"],[107,41,84,43],[107,42,84,44,"signOut"],[107,49,84,51],[107,50,84,52],[107,51,84,53],[108,8,85,6,"setProfile"],[108,18,85,16],[108,19,85,17],[108,23,85,21],[108,24,85,22],[109,8,86,6],[109,15,86,13],[110,10,86,15,"error"],[111,8,86,21],[111,9,86,22],[112,6,87,4],[112,7,87,5],[112,8,87,6],[112,15,87,13,"error"],[112,20,87,18],[112,22,87,20],[113,8,88,6],[113,15,88,13],[114,10,88,15,"error"],[115,8,88,21],[115,9,88,22],[116,6,89,4],[117,4,90,2],[117,5,90,3],[118,4,92,2],[118,10,92,8,"updateProfile"],[118,23,92,21],[118,26,92,24],[118,32,92,31,"updates"],[118,39,92,38],[118,43,92,43],[119,6,93,4],[119,10,93,8],[120,8,94,6],[120,14,94,12],[121,10,94,14,"data"],[121,14,94,18],[122,10,94,20,"error"],[123,8,94,26],[123,9,94,27],[123,12,94,30],[123,18,94,36,"supabase"],[123,36,94,44],[123,37,95,9,"from"],[123,41,95,13],[123,42,95,14],[123,49,95,21],[123,50,95,22],[123,51,96,9,"update"],[123,57,96,15],[123,58,96,16,"updates"],[123,65,96,23],[123,66,96,24],[123,67,97,9,"eq"],[123,69,97,11],[123,70,97,12],[123,74,97,16],[123,76,97,18,"user"],[123,80,97,22],[123,81,97,23,"id"],[123,83,97,25],[123,84,97,26],[123,85,98,9,"select"],[123,91,98,15],[123,92,98,16],[123,93,98,17],[123,94,99,9,"single"],[123,100,99,15],[123,101,99,16],[123,102,99,17],[124,8,101,6],[124,12,101,10,"error"],[124,17,101,15],[124,19,101,17],[124,25,101,23,"error"],[124,30,101,28],[125,8,102,6,"setProfile"],[125,18,102,16],[125,19,102,17,"data"],[125,23,102,21],[125,24,102,22],[126,8,103,6],[126,15,103,13],[127,10,103,15,"data"],[127,14,103,19],[128,10,103,21,"error"],[128,15,103,26],[128,17,103,28],[129,8,103,33],[129,9,103,34],[130,6,104,4],[130,7,104,5],[130,8,104,6],[130,15,104,13,"error"],[130,20,104,18],[130,22,104,20],[131,8,105,6],[131,15,105,13],[132,10,105,15,"data"],[132,14,105,19],[132,16,105,21],[132,20,105,25],[133,10,105,27,"error"],[134,8,105,33],[134,9,105,34],[135,6,106,4],[136,4,107,2],[136,5,107,3],[137,4,109,2],[137,11,109,9],[138,6,110,4,"user"],[138,10,110,8],[139,6,111,4,"session"],[139,13,111,11],[140,6,112,4,"profile"],[140,13,112,11],[141,6,113,4,"loading"],[141,13,113,11],[142,6,114,4,"signUp"],[142,12,114,10],[143,6,115,4,"signIn"],[143,12,115,10],[144,6,116,4,"signOut"],[144,13,116,11],[145,6,117,4,"updateProfile"],[146,4,118,2],[146,5,118,3],[147,2,119,0],[148,2,119,1,"_s"],[148,4,119,1],[148,5,4,16,"useAuth"],[148,12,4,23],[149,0,4,23],[149,3]],"functionMap":{"names":["<global>","useAuth","useEffect$argument_0","supabase.auth.getSession.then$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","fetchProfile","signUp","signIn","signOut","updateProfile"],"mappings":"AAA;OCG;YCM;oCCE;KDU;MEI;OFS;WGG,gCH;GDC;uBKE;GLe;iBME;GNU;iBOE;GPU;kBQE;GRQ;wBSE;GTe;CDY"}},"type":"js/module"}]}