{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"../supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":39,"index":118}}],"key":"zx/dTdJp0d3TJEOaa003L7FI5PE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useProfileStatsQuery = useProfileStatsQuery;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _supabase = require(_dependencyMap[2], \"../supabase\");\n  // Fetch profile stats (post count, follower count, following count)\n  function useProfileStatsQuery(userId) {\n    _s();\n    return (0, _tanstackReactQuery.useQuery)({\n      queryKey: ['profile-stats', userId],\n      queryFn: function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          // Fetch post count\n          var _yield$supabase$from$ = yield _supabase.supabase.from('posts').select('*', {\n              count: 'exact',\n              head: true\n            }).eq('user_id', userId),\n            postCount = _yield$supabase$from$.count,\n            postError = _yield$supabase$from$.error;\n          if (postError) throw postError;\n\n          // Fetch follower count\n          var _yield$supabase$from$2 = yield _supabase.supabase.from('follows').select('*', {\n              count: 'exact',\n              head: true\n            }).eq('following_id', userId),\n            followerCount = _yield$supabase$from$2.count,\n            followerError = _yield$supabase$from$2.error;\n          if (followerError) throw followerError;\n\n          // Fetch following count\n          var _yield$supabase$from$3 = yield _supabase.supabase.from('follows').select('*', {\n              count: 'exact',\n              head: true\n            }).eq('follower_id', userId),\n            followingCount = _yield$supabase$from$3.count,\n            followingError = _yield$supabase$from$3.error;\n          if (followingError) throw followingError;\n          return {\n            postCount: postCount || 0,\n            followerCount: followerCount || 0,\n            followingCount: followingCount || 0\n          };\n        });\n        return function queryFn() {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      enabled: !!userId,\n      staleTime: 1000 * 60 * 5 // 5 minutes\n    });\n  }\n  _s(useProfileStatsQuery, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n    return [_tanstackReactQuery.useQuery];\n  });\n});","lineCount":68,"map":[[13,2,5,0,"exports"],[13,9,5,0],[13,10,5,0,"useProfileStatsQuery"],[13,30,5,0],[13,33,5,0,"useProfileStatsQuery"],[13,53,5,0],[14,2,42,1],[14,6,42,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,42,1],[14,45,42,1,"require"],[14,52,42,1],[14,53,42,1,"_dependencyMap"],[14,67,42,1],[15,2,42,1],[15,6,42,1,"_asyncToGenerator"],[15,23,42,1],[15,26,42,1,"_interopDefault"],[15,41,42,1],[15,42,42,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,42,1],[16,2,1,0],[16,6,1,0,"_tanstackReactQuery"],[16,25,1,0],[16,28,1,0,"require"],[16,35,1,0],[16,36,1,0,"_dependencyMap"],[16,50,1,0],[17,2,2,0],[17,6,2,0,"_supabase"],[17,15,2,0],[17,18,2,0,"require"],[17,25,2,0],[17,26,2,0,"_dependencyMap"],[17,40,2,0],[18,2,4,0],[19,2,5,7],[19,11,5,16,"useProfileStatsQuery"],[19,31,5,36,"useProfileStatsQuery"],[19,32,5,37,"userId"],[19,38,5,43],[19,40,5,45],[20,4,5,45,"_s"],[20,6,5,45],[21,4,6,2],[21,11,6,9],[21,15,6,9,"useQuery"],[21,34,6,17],[21,35,6,17,"useQuery"],[21,43,6,17],[21,45,6,18],[22,6,7,4,"queryKey"],[22,14,7,12],[22,16,7,14],[22,17,7,15],[22,32,7,30],[22,34,7,32,"userId"],[22,40,7,38],[22,41,7,39],[23,6,8,4,"queryFn"],[23,13,8,11],[24,8,8,11],[24,12,8,11,"_ref"],[24,16,8,11],[24,23,8,11,"_asyncToGenerator"],[24,40,8,11],[24,41,8,11,"default"],[24,48,8,11],[24,50,8,13],[24,63,8,25],[25,10,9,6],[26,10,10,6],[26,14,10,6,"_yield$supabase$from$"],[26,35,10,6],[26,44,10,59,"supabase"],[26,53,10,67],[26,54,10,67,"supabase"],[26,62,10,67],[26,63,11,9,"from"],[26,67,11,13],[26,68,11,14],[26,75,11,21],[26,76,11,22],[26,77,12,9,"select"],[26,83,12,15],[26,84,12,16],[26,87,12,19],[26,89,12,21],[27,14,12,23,"count"],[27,19,12,28],[27,21,12,30],[27,28,12,37],[28,14,12,39,"head"],[28,18,12,43],[28,20,12,45],[29,12,12,50],[29,13,12,51],[29,14,12,52],[29,15,13,9,"eq"],[29,17,13,11],[29,18,13,12],[29,27,13,21],[29,29,13,23,"userId"],[29,35,13,29],[29,36,13,30],[30,12,10,21,"postCount"],[30,21,10,30],[30,24,10,30,"_yield$supabase$from$"],[30,45,10,30],[30,46,10,14,"count"],[30,51,10,19],[31,12,10,39,"postError"],[31,21,10,48],[31,24,10,48,"_yield$supabase$from$"],[31,45,10,48],[31,46,10,32,"error"],[31,51,10,37],[32,10,15,6],[32,14,15,10,"postError"],[32,23,15,19],[32,25,15,21],[32,31,15,27,"postError"],[32,40,15,36],[34,10,17,6],[35,10,18,6],[35,14,18,6,"_yield$supabase$from$2"],[35,36,18,6],[35,45,18,67,"supabase"],[35,54,18,75],[35,55,18,75,"supabase"],[35,63,18,75],[35,64,19,9,"from"],[35,68,19,13],[35,69,19,14],[35,78,19,23],[35,79,19,24],[35,80,20,9,"select"],[35,86,20,15],[35,87,20,16],[35,90,20,19],[35,92,20,21],[36,14,20,23,"count"],[36,19,20,28],[36,21,20,30],[36,28,20,37],[37,14,20,39,"head"],[37,18,20,43],[37,20,20,45],[38,12,20,50],[38,13,20,51],[38,14,20,52],[38,15,21,9,"eq"],[38,17,21,11],[38,18,21,12],[38,32,21,26],[38,34,21,28,"userId"],[38,40,21,34],[38,41,21,35],[39,12,18,21,"followerCount"],[39,25,18,34],[39,28,18,34,"_yield$supabase$from$2"],[39,50,18,34],[39,51,18,14,"count"],[39,56,18,19],[40,12,18,43,"followerError"],[40,25,18,56],[40,28,18,56,"_yield$supabase$from$2"],[40,50,18,56],[40,51,18,36,"error"],[40,56,18,41],[41,10,23,6],[41,14,23,10,"followerError"],[41,27,23,23],[41,29,23,25],[41,35,23,31,"followerError"],[41,48,23,44],[43,10,25,6],[44,10,26,6],[44,14,26,6,"_yield$supabase$from$3"],[44,36,26,6],[44,45,26,69,"supabase"],[44,54,26,77],[44,55,26,77,"supabase"],[44,63,26,77],[44,64,27,9,"from"],[44,68,27,13],[44,69,27,14],[44,78,27,23],[44,79,27,24],[44,80,28,9,"select"],[44,86,28,15],[44,87,28,16],[44,90,28,19],[44,92,28,21],[45,14,28,23,"count"],[45,19,28,28],[45,21,28,30],[45,28,28,37],[46,14,28,39,"head"],[46,18,28,43],[46,20,28,45],[47,12,28,50],[47,13,28,51],[47,14,28,52],[47,15,29,9,"eq"],[47,17,29,11],[47,18,29,12],[47,31,29,25],[47,33,29,27,"userId"],[47,39,29,33],[47,40,29,34],[48,12,26,21,"followingCount"],[48,26,26,35],[48,29,26,35,"_yield$supabase$from$3"],[48,51,26,35],[48,52,26,14,"count"],[48,57,26,19],[49,12,26,44,"followingError"],[49,26,26,58],[49,29,26,58,"_yield$supabase$from$3"],[49,51,26,58],[49,52,26,37,"error"],[49,57,26,42],[50,10,31,6],[50,14,31,10,"followingError"],[50,28,31,24],[50,30,31,26],[50,36,31,32,"followingError"],[50,50,31,46],[51,10,33,6],[51,17,33,13],[52,12,34,8,"postCount"],[52,21,34,17],[52,23,34,19,"postCount"],[52,32,34,28],[52,36,34,32],[52,37,34,33],[53,12,35,8,"followerCount"],[53,25,35,21],[53,27,35,23,"followerCount"],[53,40,35,36],[53,44,35,40],[53,45,35,41],[54,12,36,8,"followingCount"],[54,26,36,22],[54,28,36,24,"followingCount"],[54,42,36,38],[54,46,36,42],[55,10,37,6],[55,11,37,7],[56,8,38,4],[56,9,38,5],[57,8,38,5],[57,24,8,4,"queryFn"],[57,31,8,11,"queryFn"],[57,32,8,11],[58,10,8,11],[58,17,8,11,"_ref"],[58,21,8,11],[58,22,8,11,"apply"],[58,27,8,11],[58,34,8,11,"arguments"],[58,43,8,11],[59,8,8,11],[60,6,8,11],[60,9,38,5],[61,6,39,4,"enabled"],[61,13,39,11],[61,15,39,13],[61,16,39,14],[61,17,39,15,"userId"],[61,23,39,21],[62,6,40,4,"staleTime"],[62,15,40,13],[62,17,40,15],[62,21,40,19],[62,24,40,22],[62,26,40,24],[62,29,40,27],[62,30,40,28],[62,31,40,30],[63,4,41,2],[63,5,41,3],[63,6,41,4],[64,2,42,0],[65,2,42,1,"_s"],[65,4,42,1],[65,5,5,16,"useProfileStatsQuery"],[65,25,5,36],[66,4,5,36],[66,12,6,9,"useQuery"],[66,31,6,17],[66,32,6,17,"useQuery"],[66,40,6,17],[67,2,6,17],[68,0,6,17],[68,3]],"functionMap":{"names":["<global>","useProfileStatsQuery","useQuery$argument_0.queryFn"],"mappings":"AAA;OCI;aCG;KD8B;CDI"},"hasCjsExports":false},"type":"js/module"}]}