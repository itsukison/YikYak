{"dependencies":[{"name":"./supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"nombsjMCzh8A1aWqTxUa62QcPc0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.subscribeToNewPosts = subscribeToNewPosts;\n  exports.subscribeToMessages = subscribeToMessages;\n  exports.subscribeToNotifications = subscribeToNotifications;\n  var _supabase = require(_dependencyMap[0], \"./supabase\");\n  // Subscribe to new posts within a radius\n  function subscribeToNewPosts(callback) {\n    var channel = _supabase.supabase.channel('posts-channel').on('postgres_changes', {\n      event: 'INSERT',\n      schema: 'public',\n      table: 'posts'\n    }, payload => {\n      callback(payload.new);\n    }).subscribe();\n    return () => {\n      _supabase.supabase.removeChannel(channel);\n    };\n  }\n\n  // Subscribe to messages in a chat\n  function subscribeToMessages(chatId, callback) {\n    var channel = _supabase.supabase.channel(`messages-${chatId}`).on('postgres_changes', {\n      event: 'INSERT',\n      schema: 'public',\n      table: 'messages',\n      filter: `chat_id=eq.${chatId}`\n    }, payload => {\n      callback(payload.new);\n    }).subscribe();\n    return () => {\n      _supabase.supabase.removeChannel(channel);\n    };\n  }\n\n  // Subscribe to notifications for a user\n  function subscribeToNotifications(userId, callback) {\n    var channel = _supabase.supabase.channel(`notifications-${userId}`).on('postgres_changes', {\n      event: 'INSERT',\n      schema: 'public',\n      table: 'notifications',\n      filter: `user_id=eq.${userId}`\n    }, payload => {\n      callback(payload.new);\n    }).subscribe();\n    return () => {\n      _supabase.supabase.removeChannel(channel);\n    };\n  }\n});","lineCount":54,"map":[[7,2,4,0,"exports"],[7,9,4,0],[7,10,4,0,"subscribeToNewPosts"],[7,29,4,0],[7,32,4,0,"subscribeToNewPosts"],[7,51,4,0],[8,2,26,0,"exports"],[8,9,26,0],[8,10,26,0,"subscribeToMessages"],[8,29,26,0],[8,32,26,0,"subscribeToMessages"],[8,51,26,0],[9,2,49,0,"exports"],[9,9,49,0],[9,10,49,0,"subscribeToNotifications"],[9,34,49,0],[9,37,49,0,"subscribeToNotifications"],[9,61,49,0],[10,2,1,0],[10,6,1,0,"_supabase"],[10,15,1,0],[10,18,1,0,"require"],[10,25,1,0],[10,26,1,0,"_dependencyMap"],[10,40,1,0],[11,2,3,0],[12,2,4,7],[12,11,4,16,"subscribeToNewPosts"],[12,30,4,35,"subscribeToNewPosts"],[12,31,4,36,"callback"],[12,39,4,44],[12,41,4,46],[13,4,5,2],[13,8,5,8,"channel"],[13,15,5,15],[13,18,5,18,"supabase"],[13,27,5,26],[13,28,5,26,"supabase"],[13,36,5,26],[13,37,6,5,"channel"],[13,44,6,12],[13,45,6,13],[13,60,6,28],[13,61,6,29],[13,62,7,5,"on"],[13,64,7,7],[13,65,8,6],[13,83,8,24],[13,85,9,6],[14,6,10,8,"event"],[14,11,10,13],[14,13,10,15],[14,21,10,23],[15,6,11,8,"schema"],[15,12,11,14],[15,14,11,16],[15,22,11,24],[16,6,12,8,"table"],[16,11,12,13],[16,13,12,15],[17,4,13,6],[17,5,13,7],[17,7,14,7,"payload"],[17,14,14,14],[17,18,14,19],[18,6,15,8,"callback"],[18,14,15,16],[18,15,15,17,"payload"],[18,22,15,24],[18,23,15,25,"new"],[18,26,15,28],[18,27,15,29],[19,4,16,6],[19,5,17,4],[19,6,17,5],[19,7,18,5,"subscribe"],[19,16,18,14],[19,17,18,15],[19,18,18,16],[20,4,20,2],[20,11,20,9],[20,17,20,15],[21,6,21,4,"supabase"],[21,15,21,12],[21,16,21,12,"supabase"],[21,24,21,12],[21,25,21,13,"removeChannel"],[21,38,21,26],[21,39,21,27,"channel"],[21,46,21,34],[21,47,21,35],[22,4,22,2],[22,5,22,3],[23,2,23,0],[25,2,25,0],[26,2,26,7],[26,11,26,16,"subscribeToMessages"],[26,30,26,35,"subscribeToMessages"],[26,31,26,36,"chatId"],[26,37,26,42],[26,39,26,44,"callback"],[26,47,26,52],[26,49,26,54],[27,4,27,2],[27,8,27,8,"channel"],[27,15,27,15],[27,18,27,18,"supabase"],[27,27,27,26],[27,28,27,26,"supabase"],[27,36,27,26],[27,37,28,5,"channel"],[27,44,28,12],[27,45,28,13],[27,57,28,25,"chatId"],[27,63,28,31],[27,65,28,33],[27,66,28,34],[27,67,29,5,"on"],[27,69,29,7],[27,70,30,6],[27,88,30,24],[27,90,31,6],[28,6,32,8,"event"],[28,11,32,13],[28,13,32,15],[28,21,32,23],[29,6,33,8,"schema"],[29,12,33,14],[29,14,33,16],[29,22,33,24],[30,6,34,8,"table"],[30,11,34,13],[30,13,34,15],[30,23,34,25],[31,6,35,8,"filter"],[31,12,35,14],[31,14,35,16],[31,28,35,30,"chatId"],[31,34,35,36],[32,4,36,6],[32,5,36,7],[32,7,37,7,"payload"],[32,14,37,14],[32,18,37,19],[33,6,38,8,"callback"],[33,14,38,16],[33,15,38,17,"payload"],[33,22,38,24],[33,23,38,25,"new"],[33,26,38,28],[33,27,38,29],[34,4,39,6],[34,5,40,4],[34,6,40,5],[34,7,41,5,"subscribe"],[34,16,41,14],[34,17,41,15],[34,18,41,16],[35,4,43,2],[35,11,43,9],[35,17,43,15],[36,6,44,4,"supabase"],[36,15,44,12],[36,16,44,12,"supabase"],[36,24,44,12],[36,25,44,13,"removeChannel"],[36,38,44,26],[36,39,44,27,"channel"],[36,46,44,34],[36,47,44,35],[37,4,45,2],[37,5,45,3],[38,2,46,0],[40,2,48,0],[41,2,49,7],[41,11,49,16,"subscribeToNotifications"],[41,35,49,40,"subscribeToNotifications"],[41,36,49,41,"userId"],[41,42,49,47],[41,44,49,49,"callback"],[41,52,49,57],[41,54,49,59],[42,4,50,2],[42,8,50,8,"channel"],[42,15,50,15],[42,18,50,18,"supabase"],[42,27,50,26],[42,28,50,26,"supabase"],[42,36,50,26],[42,37,51,5,"channel"],[42,44,51,12],[42,45,51,13],[42,62,51,30,"userId"],[42,68,51,36],[42,70,51,38],[42,71,51,39],[42,72,52,5,"on"],[42,74,52,7],[42,75,53,6],[42,93,53,24],[42,95,54,6],[43,6,55,8,"event"],[43,11,55,13],[43,13,55,15],[43,21,55,23],[44,6,56,8,"schema"],[44,12,56,14],[44,14,56,16],[44,22,56,24],[45,6,57,8,"table"],[45,11,57,13],[45,13,57,15],[45,28,57,30],[46,6,58,8,"filter"],[46,12,58,14],[46,14,58,16],[46,28,58,30,"userId"],[46,34,58,36],[47,4,59,6],[47,5,59,7],[47,7,60,7,"payload"],[47,14,60,14],[47,18,60,19],[48,6,61,8,"callback"],[48,14,61,16],[48,15,61,17,"payload"],[48,22,61,24],[48,23,61,25,"new"],[48,26,61,28],[48,27,61,29],[49,4,62,6],[49,5,63,4],[49,6,63,5],[49,7,64,5,"subscribe"],[49,16,64,14],[49,17,64,15],[49,18,64,16],[50,4,66,2],[50,11,66,9],[50,17,66,15],[51,6,67,4,"supabase"],[51,15,67,12],[51,16,67,12,"supabase"],[51,24,67,12],[51,25,67,13,"removeChannel"],[51,38,67,26],[51,39,67,27,"channel"],[51,46,67,34],[51,47,67,35],[52,4,68,2],[52,5,68,3],[53,2,69,0],[54,0,69,1],[54,3]],"functionMap":{"names":["<global>","subscribeToNewPosts","supabase.channel.on$argument_2","<anonymous>","subscribeToMessages","subscribeToNotifications"],"mappings":"AAA;OCG;MCU;ODE;SEI;GFE;CDC;OIG;MFW;OEE;SDI;GCE;CJC;OKG;MHW;OGE;SFI;GEE;CLC"},"hasCjsExports":false},"type":"js/module"}]}